"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[913],{9913:(B,g,s)=>{s.r(g),s.d(g,{WORKOUT_ROUTES:()=>K});var t=s(9212),l=s(95),d=s(2296),W=s(2495),_=s(3680);let k=(()=>{class o{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,W.Ig)(e)}get inset(){return this._inset}set inset(e){this._inset=(0,W.Ig)(e)}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,i){2&r&&(t.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),t.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return o})(),m=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[_.BQ,_.BQ]})}return o})();var h=s(9116),Z=s(2032),w=s(4193),C=s(1474);function p(o,n){const e=!n?.manualCleanup;e&&!n?.injector&&(0,t.gHi)(p);const r=e?n?.injector?.get(t.ktI)??(0,t.f3M)(t.ktI):null;let i;i=(0,t.tdS)(n?.requireSync?{kind:0}:{kind:1,value:n?.initialValue});const a=o.subscribe({next:c=>i.set({kind:1,value:c}),error:c=>{if(n?.rejectErrors)throw c;i.set({kind:2,error:c})}});return r?.onDestroy(a.unsubscribe.bind(a)),(0,t.Flj)(()=>{const c=i();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new t.vHH(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var j=s(5619),y=s(8645),v=s(4664),S=s(940),f=s(9397),L=s(7803);class b{constructor(n,e){this.msg=n,this.type=e}}var M=s(553);let T=(()=>{class o{constructor(){this.http=(0,t.f3M)(C.eN),this.alertSrvice=(0,t.f3M)(L.c),this.router=(0,t.f3M)(w.F0),this.workoutApi=M.N.apiUrl+"/api/workouts",this._refreshList$=new j.X(!0),this.workoutsSnl=p(this.getWorkouts(),{initialValue:[]}),this.modifyWorkoutSubject=new y.x,this.selectedWorkoutSnl=p(this.getWorkout(),{initialValue:void 0}),this.createWorkoutSubject=new y.x,this.createdWorkoutSnl=p(this.createWorkout(),{initialValue:void 0})}refreshList(){this._refreshList$.next(!0)}getWorkouts(){return this._refreshList$.asObservable().pipe((0,v.w)(()=>this.http.get(this.workoutApi)),(0,S.d)())}getWorkout(){return this.modifyWorkoutSubject.asObservable().pipe((0,v.w)(e=>this.userInteractionToObservable(e)))}createWorkout(){return this.createWorkoutSubject.asObservable().pipe((0,v.w)(e=>this.http.post(this.workoutApi,e)),(0,f.b)(()=>{this.alertSrvice.showAlert(new b("New workout has been created.","success")),this.router.navigate(["/workouts"])}))}userInteractionToObservable(e){switch(e.type){case"select":return this.http.get(this.workoutApi+"/"+e.workout?._id);case"modify":return this.http.patch(this.workoutApi+"/"+e.workout?._id,e.workout).pipe((0,f.b)(()=>{this.refreshList(),this.alertSrvice.showAlert(new b("The selected workout has been updated.","success"))}));case"delete":return this.http.delete(this.workoutApi+"/"+e.workout?._id).pipe((0,f.b)(()=>{this.refreshList(),this.alertSrvice.showAlert(new b("The selected workout has been deleted.","success"))}))}}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class F{constructor(n,e,r,i,a){this.title=n,this.reps=e,this.load=r,this.likes=i,this._id=a||""}}const q=()=>["/workouts"];let D=(()=>{class o{constructor(){this.formBuilder=(0,t.f3M)(l.qu),this.workoutsService=(0,t.f3M)(T),this.workoutForm=this.formBuilder.group({title:["",[l.kI.required]],reps:["",[l.kI.required]],load:["",[l.kI.required]]})}submitWorkout(){const{title:e,reps:r,load:i,likes:a}=this.workoutForm.value,c=new F(e,r,i,a);this.workoutsService.createWorkoutSubject.next(c)}resetWorkoutForm(){this.workoutForm.reset()}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-workout-create"]],standalone:!0,features:[t.jDz],decls:31,vars:4,consts:[[1,"container"],[1,"col","col--centered"],[1,"form",3,"formGroup"],[1,"form__input"],["matInput","","id","title","placeholder","Ex. Jumping-Jacks","type","text","formControlName","title"],["matInput","","id","Reps","type","number","formControlName","reps"],["matInput","","id","load","type","number","formControlName","load"],[1,"row","row--sp-btw"],[3,"routerLink"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",1,"ml-a",3,"click"],["mat-raised-button","","color","accent","type","button",3,"disabled","click"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"br")(2,"br")(3,"hr"),t.TgZ(4,"div",1)(5,"h2"),t._uU(6,"Create new workout form"),t.qZA(),t.TgZ(7,"form",2)(8,"mat-form-field",3)(9,"mat-label"),t._uU(10,"Title"),t.qZA(),t._UZ(11,"input",4),t.qZA(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Repetitions"),t.qZA(),t._UZ(15,"input",5),t.qZA(),t.TgZ(16,"mat-form-field",3)(17,"mat-label"),t._uU(18,"Load"),t.qZA(),t._UZ(19,"input",6),t.qZA(),t._UZ(20,"mat-divider")(21,"br"),t.TgZ(22,"div",7)(23,"a",8)(24,"button",9),t.NdJ("click",function(){return i.resetWorkoutForm()}),t._uU(25," Back to list "),t.qZA()(),t.TgZ(26,"button",10),t.NdJ("click",function(){return i.resetWorkoutForm()}),t._uU(27," Clear "),t.qZA(),t.TgZ(28,"button",11),t.NdJ("click",function(){return i.submitWorkout()}),t._uU(29," Create Workout "),t.qZA()()()(),t._UZ(30,"hr"),t.qZA()),2&r&&(t.xp6(7),t.Q6J("formGroup",i.workoutForm),t.xp6(16),t.Q6J("routerLink",t.DdM(3,q)),t.xp6(5),t.Q6J("disabled",i.workoutForm.invalid))},dependencies:[w.rH,d.ot,d.lW,l.UX,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,h.lN,h.KE,h.hX,Z.c,Z.Nt,m,k],styles:[".form[_ngcontent-%COMP%]{width:500px;padding:50px;display:flex;flex-flow:column nowrap}"]})}return o})();var x=s(6814),u=s(5195);function I(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-subtitle"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-title"),t._uU(5,"Agility"),t.qZA()(),t.TgZ(6,"mat-card-content")(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t._UZ(13,"mat-divider"),t.qZA(),t.TgZ(14,"mat-card-actions",2)(15,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteWorkout.emit(i.workout))}),t._uU(16,"Delete"),t.qZA(),t.TgZ(17,"button",4),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.likeWorkout.emit(i.workout))}),t._uU(18,"Like"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.workout.title),t.xp6(5),t.hij("Repetition: ",e.workout.reps,""),t.xp6(2),t.hij("Load: ",e.workout.load,""),t.xp6(2),t.hij("Likes: ",e.workout.likes,"")}}let O=(()=>{class o{constructor(){this.likeWorkout=new t.vpe,this.deleteWorkout=new t.vpe}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-workout-preview"]],inputs:{workout:"workout"},outputs:{likeWorkout:"likeWorkout",deleteWorkout:"deleteWorkout"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","example-card",4,"ngIf"],[1,"example-card"],[1,"row","row--sp-btw"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(r,i){1&r&&t.YNc(0,I,19,4,"mat-card",0),2&r&&t.Q6J("ngIf",i.workout)},dependencies:[x.O5,u.QW,u.a8,u.hq,u.dn,u.dk,u.$j,u.n5,m,k,d.ot,d.lW],styles:[".example-card[_ngcontent-%COMP%]{width:400px}"]})}return o})();const J=(o,n)=>n._id;function N(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-workout-preview",5),t.NdJ("dblclick",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selectWorkout(a))})("likeWorkout",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.likeWorkout(i))})("deleteWorkout",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.deleteWorkout(i))}),t.qZA()}2&o&&t.Q6J("workout",n.$implicit)}function H(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1,"There were no items in the list."),t.qZA())}const Q=()=>["/workouts/create"];function G(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-subtitle"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-title"),t._uU(5,"Agility"),t.qZA()(),t.TgZ(6,"mat-card-content")(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t._UZ(13,"mat-divider"),t.qZA(),t.TgZ(14,"mat-card-actions",2)(15,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteWorkout.emit(i.workout))}),t._uU(16,"Delete"),t.qZA(),t.TgZ(17,"button",4),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.likeWorkout.emit(i.workout))}),t._uU(18,"Like"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.workout.title),t.xp6(5),t.hij("Repetition: ",e.workout.reps,""),t.xp6(2),t.hij("Load: ",e.workout.load,""),t.xp6(2),t.hij("Likes: ",e.workout.likes,"")}}const K=[{path:"",component:(()=>{class o{constructor(){this.workoutsService=(0,t.f3M)(T),this.workoutList=this.workoutsService.workoutsSnl,this.totalWorkouts=(0,t.Flj)(()=>this.workoutList().length),this.totalLikes=(0,t.Flj)(()=>this.workoutList().flatMap(e=>e.likes).reduce((e,r)=>r+e,0))}ngOnInit(){this.workoutsService.refreshList()}deleteWorkout(e){this.workoutsService.modifyWorkoutSubject.next({type:"delete",workout:e})}likeWorkout(e){e.likes=e.likes?e.likes+1:1,this.workoutsService.modifyWorkoutSubject.next({type:"modify",workout:e})}selectWorkout(e){this.workoutsService.modifyWorkoutSubject.next({type:"select",workout:e})}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-workout-list"]],standalone:!0,features:[t.jDz],decls:18,vars:5,consts:[[1,"container"],[1,"row","row--r-aligned"],[3,"routerLink"],["mat-raised-button","","color","primary",1,"btn","btn--symbol"],[1,"row","row--sp-around","row--wrap"],[1,"mb-20",3,"workout","dblclick","likeWorkout","deleteWorkout"],["class","mb-20",3,"workout"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"br")(2,"br"),t.TgZ(3,"div",1)(4,"a",2)(5,"button",3),t._uU(6,"+"),t.qZA()()(),t._UZ(7,"br")(8,"hr"),t.TgZ(9,"div",4),t.SjG(10,N,1,1,"app-workout-preview",6,J,!1,H,2,0),t.qZA(),t._UZ(13,"hr"),t.TgZ(14,"div"),t._uU(15),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.qZA()()),2&r&&(t.xp6(4),t.Q6J("routerLink",t.DdM(4,Q)),t.wJu(10,i.workoutList()),t.xp6(11),t.hij("Total number of registered workouts: ",i.totalWorkouts(),""),t.xp6(2),t.hij("Total number of registered workout likes: ",i.totalLikes(),""))},dependencies:[w.rH,d.ot,d.lW,O]})}return o})()},{path:"create",component:D},{path:":id",component:(()=>{class o{constructor(){this.likeWorkout=new t.vpe,this.deleteWorkout=new t.vpe}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-workout-detail"]],inputs:{workout:"workout"},outputs:{likeWorkout:"likeWorkout",deleteWorkout:"deleteWorkout"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","example-card",4,"ngIf"],[1,"example-card"],[1,"row","row--sp-btw"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(r,i){1&r&&t.YNc(0,G,19,4,"mat-card",0),2&r&&t.Q6J("ngIf",i.workout)},dependencies:[x.O5,u.QW,u.a8,u.hq,u.dn,u.dk,u.$j,u.n5,m,k,d.ot,d.lW],styles:[".example-card[_ngcontent-%COMP%]{width:400px}"]})}return o})()}]}}]);